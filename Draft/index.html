<!DOCTYPE html>
<html lang="zh">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>极简可拖拽布局</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			display: grid;
			grid-template-rows: auto 1fr auto;
			height: 100vh;
			font-family: sans-serif;
		}

		header,
		footer {
			background: #222;
			color: #fff;
			text-align: center;
			padding: 8px;
		}

		main {
			display: grid;
			grid-template-columns: auto 2fr 3fr;
			gap: 4px;
			padding: 4px;
			position: relative;
		}

		/* 左侧文件栏 */
		.files {
			background: #eee;
			width: 180px;
			min-width: 100px;
			max-width: 400px;
			padding: 6px;
			overflow: auto;
			transition: width 0.1s;
		}

		.files ul {
			list-style: none;
			font-size: 14px;
		}

		.files li {
			padding: 4px;
			cursor: pointer;
		}

		.files li:hover {
			background: #ddd;
		}

		/* 分隔线（拖拽条） */
		.resizer {
			width: 4px;
			cursor: col-resize;
			background: #ccc;
		}

		/* 中间文章区 */
		.article {
			background: #fff;
			padding: 6px;
			overflow: auto;
			font-size: 14px;
		}

		/* 右侧上下结构 */
		.right {
			display: grid;
			grid-template-rows: 1fr 1fr;
			gap: 4px;
		}

		.code,
		.preview {
			background: #fff;
			padding: 6px;
			overflow: auto;
			font-size: 13px;
		}

		.code {
			background: #111;
			color: #ddd;
			font-family: monospace;
		}

		/* 折叠按钮 */
		.toggle {
			position: absolute;
			top: 50px;
			left: 184px;
			background: #666;
			color: #fff;
			border: none;
			padding: 2px 6px;
			cursor: pointer;
			font-size: 12px;
		}
	</style>
</head>

<body>
	<header>极简可拖拽布局</header>

	<main>
		<aside class="files" id="files">
			<ul>
				<li>index.html</li>
				<li>main.css</li>
				<li>script.js</li>
			</ul>
		</aside>

		<div class="resizer" id="resizer"></div>
		<button class="toggle" id="toggle">隐藏</button>

		<section class="article">
			<h3>文章内容</h3>
			<p>左侧文件栏可拖拽调整宽度，也可点击隐藏。</p>
		</section>

		<section class="right">
			<div class="code">
				<pre>
&lt;h1&gt;Hello&lt;/h1&gt;
&lt;p&gt;我是实时预览内容&lt;/p&gt;
</pre>
			</div>
			<div class="preview">
				<h1>Hello</h1>
				<p>我是实时预览内容</p>
			</div>
		</section>
	</main>

	<footer>© 2025</footer>

	<script>
		const files = document.getElementById('files');
		const resizer = document.getElementById('resizer');
		const toggle = document.getElementById('toggle');

		let isDragging = false;

		// 拖拽调整宽度
		resizer.addEventListener('mousedown', e => {
			isDragging = true;
			document.body.style.cursor = 'col-resize';
		});
		window.addEventListener('mousemove', e => {
			if (!isDragging) return;
			const newWidth = Math.min(Math.max(e.clientX - 8, 100), 400);
			files.style.width = newWidth + 'px';
			toggle.style.left = newWidth + 4 + 'px';
		});
		window.addEventListener('mouseup', () => {
			isDragging = false;
			document.body.style.cursor = '';
		});

		// 折叠功能
		toggle.addEventListener('click', () => {
			const hidden = files.style.display === 'none';
			if (hidden) {
				files.style.display = '';
				resizer.style.display = '';
				toggle.textContent = '隐藏';
			} else {
				files.style.display = 'none';
				resizer.style.display = 'none';
				toggle.textContent = '展开';
			}
		});
	</script>
</body>

</html>